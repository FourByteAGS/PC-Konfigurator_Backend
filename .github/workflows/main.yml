name: Docker Build Pipeline

on:
  push:
    branches:
      - main  # Starte Workflow, wenn auf 'main' gepusht wird
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest  # Falls du einen eigenen Runner hast, ersetze mit [self-hosted]

    steps:
      # ğŸ“¥ 1. Repository auschecken
      - name: Checkout Repository
        uses: actions/checkout@v4

      # ğŸ› ï¸ 2. Debugging: PrÃ¼fen, ob das Dockerfile vorhanden ist
      - name: Check if Dockerfile exists
        run: ls -la

      # ğŸ”¨ 3. Docker-Image bauen (angepasst fÃ¼r dein Projekt)
      - name: Build Docker Image
        run: |
          docker build -t my-backend:latest -f PCKonfiguratorBackend/Dockerfile PCKonfiguratorBackend

      # âœ… 4. ÃœberprÃ¼fung, ob das Image erfolgreich gebaut wurde
      - name: Verify Docker Image
        run: docker images | grep my-backend
